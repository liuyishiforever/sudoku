# 🎮 数独游戏 - H5移动端

![数独游戏首页](../screenshots/01-home.png)

基于 uni-app 开发的数独游戏，提供四种难度级别的数独谜题。

## 📖 项目简介

本游戏提供经典的9×9数独谜题，支持简单、中等、困难、专家四种难度级别。玩家可以通过逻辑推理填满所有空格，挑战自己的智力和耐心。

### ✨ 项目亮点

- 🎯 **智能算法**：采用回溯算法生成数独谜题，确保每个谜题有唯一解
- 🎨 **精美界面**：使用 FirstUI 组件库，打造现代化、简洁的游戏界面
- 💾 **自动保存**：游戏进度自动保存，随时可以继续上次的游戏
- 🔍 **智能提示**：提供智能提示功能，帮助玩家度过难关
- ⚡ **流畅体验**：优化的性能，确保游戏运行流畅

## 🎨 界面展示

### 首页 - 难度选择

首页采用卡片式设计，展示四种不同难度级别，每种难度都有清晰的描述和适合人群说明。

![首页截图](../screenshots/01-home.png)

### 游戏界面特点

- 🎯 **清晰的棋盘布局**：9×9网格，3×3宫格分组明显
- 🎨 **优雅的配色方案**：紫色渐变主题，视觉舒适
- ⚡ **流畅的交互动画**：数字输入、冲突检测等操作都有流畅的动画效果
- 📱 **响应式设计**：完美适配各种屏幕尺寸

## 🛠 技术栈

| 技术 | 说明 |
|------|------|
| **框架** | uni-app (Vue 2) - 跨平台应用开发框架 |
| **平台** | H5 / 微信小程序 - 支持多端部署 |
| **UI组件** | FirstUI - 精美的UI组件库 |
| **状态管理** | Vuex - 集中式状态管理 |
| **开发语言** | JavaScript / Vue.js - 主流前端技术栈 |

## 🎯 功能特性

### 🎲 四种难度级别

| 难度 | 预填数字 | 适合人群 | 描述 |
|------|---------|---------|------|
| 🟢 **简单** | 40-45个 | 初学者 | 适合刚接触数独的玩家，可以快速上手 |
| 🟡 **中等** | 30-35个 | 进阶玩家 | 需要一定的逻辑推理能力 |
| 🟠 **困难** | 25-30个 | 熟练玩家 | 挑战你的智慧和耐心 |
| 🔴 **专家** | 20-25个 | 数独高手 | 只为真正的高手准备 |

### 🎮 完整游戏功能

#### 基础操作
- ✏️ **数字输入模式**：直接填写确定的数字
- 📝 **笔记模式**：标记可能的候选数字
- ↩️ **撤销/重做**：支持无限次撤销和重做操作
- 💡 **智能提示**：在困难时获取系统提示
- 🔍 **冲突检测**：自动高亮显示冲突的数字

#### 游戏信息
- ⏱️ **实时计时**：记录你的游戏时间
- 📊 **进度显示**：实时显示已填写的格子数量
- ❌ **错误统计**：记录错误次数，挑战零失误
- 💾 **自动保存**：游戏进度自动保存，随时可继续

### 📚 学习功能

- 📖 **规则介绍**：详细的数独规则说明
- 🎓 **技巧指导**：提供多种解题技巧
- 💪 **难度说明**：帮助玩家选择合适的难度

## 🚀 快速开始

### 环境要求

- Node.js >= 12.0.0
- npm >= 6.0.0
- HBuilderX（可选，用于微信小程序开发）

### 安装依赖

```bash
cd sudoku-h5
npm install
```

### 本地开发

#### H5端开发

```bash
# 启动H5开发服务器
npm run dev:h5

# 访问地址：http://localhost:9091
```

#### 微信小程序开发

```bash
# 启动微信小程序开发模式
npm run dev:mp-weixin

# 然后使用微信开发者工具打开 unpackage/dist/dev/mp-weixin 目录
```

### 生产构建

```bash
# 构建H5生产版本
npm run build:h5

# 构建微信小程序生产版本
npm run build:mp-weixin
```

## 📱 页面说明

### 首页 (`/pages/home/index`)
- 🎯 难度选择卡片
- 🎮 开始新游戏
- ▶️ 继续上次游戏
- 📖 查看游戏规则
- 💡 查看解题技巧

### 游戏页面 (`/pages/game/index`)
- 🎲 9×9数独棋盘
- 🔢 数字输入键盘
- ⏱️ 游戏计时器
- 🎯 游戏控制按钮
  - 撤销/重做
  - 笔记模式切换
  - 提示功能
  - 重新开始

### 规则页面 (`/pages/rules/index`)
- 📖 数独基础规则
- 🎯 游戏目标说明
- 📋 三大核心规则
- 📊 示例展示

### 技巧页面 (`/pages/tips/index`)
- 💡 解题技巧分享
- 🎓 基础技巧教学
- 🏆 进阶技巧指导

## 📁 项目结构

```
sudoku-h5/
├── api/                      # 📡 接口请求封装
├── components/               # 🧩 公共组件
│   ├── firstui/             # FirstUI 组件库
│   ├── sudoku-board/        # 数独棋盘组件
│   ├── sudoku-cell/         # 单元格组件
│   ├── number-keyboard/     # 数字键盘组件
│   ├── game-timer/          # 计时器组件
│   └── difficulty-card/     # 难度卡片组件
├── pages/                   # 📄 页面文件
│   ├── home/               # 首页
│   │   └── index.vue       # 难度选择页面
│   ├── game/               # 游戏页面
│   │   └── index.vue       # 主游戏界面
│   ├── rules/              # 规则页面
│   │   └── index.vue       # 规则说明页面
│   └── tips/               # 技巧页面
│       └── index.vue       # 技巧分享页面
├── store/                   # 🗄️ Vuex状态管理
│   ├── index.js            # store 入口
│   └── modules/
│       └── sudoku.js       # 数独游戏状态模块
├── utils/                   # 🛠️ 工具函数
│   ├── sudoku.js           # 数独核心算法（生成、验证）
│   ├── sudoku-helper.js    # 辅助函数（提示、冲突检测）
│   └── storage.js          # 本地存储工具
├── static/                  # 🖼️ 静态资源
│   ├── images/             # 图片资源
│   └── styles/             # 全局样式
├── uni_modules/             # 📦 uni-app 模块
├── config.js                # ⚙️ 配置文件
├── pages.json               # 📝 页面配置
├── manifest.json            # 🔧 uni-app 配置
└── package.json             # 📋 项目依赖配置
```

## 🧮 核心算法

### 数独生成算法

#### 1. 生成完整数独解
```javascript
// 使用回溯算法生成完整的9×9数独解
function generateFullSudoku() {
  // 1. 初始化空白棋盘
  // 2. 随机填充第一行
  // 3. 使用回溯算法填充剩余单元格
  // 4. 确保每行、每列、每个3×3宫格都不重复
}
```

#### 2. 根据难度挖洞
```javascript
// 根据难度级别移除部分数字
function digHoles(puzzle, difficulty) {
  // 简单：保留 40-45 个数字
  // 中等：保留 30-35 个数字
  // 困难：保留 25-30 个数字
  // 专家：保留 20-25 个数字
}
```

#### 3. 确保唯一解
- 使用深度优先搜索验证解的唯一性
- 如果存在多个解，重新挖洞直到满足条件

### 冲突检测

- ⚡ **实时检测**：每次填数时检测行、列、宫格冲突
- 🎨 **视觉反馈**：自动高亮显示冲突的单元格
- 🔍 **智能提示**：根据当前状态提供可填数字建议

### 状态管理

#### Vuex Store 结构
```javascript
{
  puzzle: [],      // 初始谜题
  solution: [],    // 完整解答
  userInput: [],   // 用户输入
  history: [],     // 历史记录（撤销/重做）
  difficulty: '',  // 当前难度
  timer: 0,        // 游戏时间
  errors: 0        // 错误次数
}
```

#### 自动保存
- 📝 每次操作自动保存到本地存储
- 🔄 页面刷新后可恢复游戏进度
- 💾 支持多个游戏进度同时保存

## ⚙️ 配置说明

### 微信小程序配置

如需发布为微信小程序，需要进行以下配置：

1. **配置 AppID**

在 `manifest.json` 中配置小程序 appid：

```json
{
  "mp-weixin": {
    "appid": "your-weixin-appid",
    "setting": {
      "urlCheck": false,
      "es6": false,
      "minified": true,
      "postcss": true
    }
  }
}
```

2. **使用开发者工具**

- 下载并安装微信开发者工具
- 打开 `unpackage/dist/dev/mp-weixin` 目录
- 使用你的 AppID 导入项目

### H5配置

在 `manifest.json` 中配置H5相关选项：

```json
{
  "h5": {
    "title": "数独游戏",
    "router": {
      "mode": "hash",
      "base": "./"
    },
    "devServer": {
      "port": 9091
    }
  }
}
```

## ⚠️ 注意事项

### 性能相关
- ⏱️ 首次加载可能需要2-3秒生成数独谜题
- 💾 游戏进度会自动保存到本地存储
- 🔄 建议定期清理本地存储以保持良好性能

### 兼容性
- 📱 H5端支持所有现代浏览器（Chrome, Firefox, Safari, Edge）
- 🎮 建议在真机或开发者工具中测试完整功能
- 📱 移动端建议使用支持触摸的设备

### 开发建议
- 🛠️ 使用 HBuilderX 可以获得更好的开发体验
- 🔍 开启调试模式可以查看详细日志
- 📝 建议使用 ESLint 保持代码质量

## 📄 许可证

本项目仅供学习和研究使用。

## 🙏 致谢

- [uni-app](https://uniapp.dcloud.io/) - 跨平台应用开发框架
- [FirstUI](https://www.firstui.cn/) - 优秀的UI组件库
- [Vue.js](https://cn.vuejs.org/) - 渐进式JavaScript框架

## 📞 联系方式

如有问题或建议，欢迎提交 Issue 或 Pull Request。

---

**祝你游戏愉快！挑战你的逻辑思维极限！** 🎮✨
